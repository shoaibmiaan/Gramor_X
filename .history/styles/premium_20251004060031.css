/* styles/premium.css
   Tailwind INPUT for the premium bundle (compiled -> public/premium.css) */

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ---------- Base tokens & themes ---------- */
@layer base {
  :root {
    --pr-radius: 16px;
    --pr-shadow-md: 0 8px 24px rgba(0,0,0,0.20);
    --pr-shadow-lg: 0 18px 48px rgba(0,0,0,0.30);

    /* Theme preview tokens (used by switcher dots only) */
    --pr-preview-carbon: #0b0f1a;
    --pr-preview-ivory: #f7f7fb;
    --pr-preview-royal-start: #7c3aed;
    --pr-preview-royal-end: #4c1d95;
    --pr-preview-aurora-start: #0ea5e9;
    --pr-preview-aurora-end: #0284c7;

    /* Defaults for animated luxury backdrop (can be overridden per theme) */
    --pr-lux-opacity: 0.38;
    --pr-lux-blur: 90px;
    --pr-lux-sat: 120%;
  }

  /* Dark (Carbon) */
  [data-pr-theme="carbon"] {
    --pr-bg: #0b0f1a;
    --pr-fg: #e6eaf2;
    --pr-card: #0f1626;
    --pr-border: #24304a;
    --pr-primary: #3390ff;
    --pr-success: #35d399;
    --pr-danger: #ff6b8b;

    --pr-lux-opacity: 0.38;
    --pr-lux-blur: 96px;
    --pr-lux-sat: 125%;
  }

  /* Light (Ivory) */
  [data-pr-theme="ivory"] {
    --pr-bg: #f7f7fb;
    --pr-fg: #0b1324;
    --pr-card: #ffffff;
    --pr-border: #e6e8ef;
    --pr-primary: #2563eb;
    --pr-success: #16a34a;
    --pr-danger: #e11d48;

    --pr-lux-opacity: 0.42;
    --pr-lux-blur: 80px;
    --pr-lux-sat: 115%;
  }

  /* Royal Aster */
  [data-pr-theme="royal"] {
    --pr-bg: #0e0a18;
    --pr-fg: #efeaff;
    --pr-card: #15122a;
    --pr-border: #2e2954;
    --pr-primary: #7c3aed;
    --pr-success: #22c55e;
    --pr-danger: #f43f5e;

    --pr-lux-opacity: 0.40;
    --pr-lux-blur: 88px;
    --pr-lux-sat: 130%;
  }

  /* Aurora Neo */
  [data-pr-theme="aurora"] {
    --pr-bg: #07141e;
    --pr-fg: #e7f7ff;
    --pr-card: #0b1b28;
    --pr-border: #143247;
    --pr-primary: #0ea5e9;
    --pr-success: #35d399;
    --pr-danger: #ff6b8b;

    --pr-lux-opacity: 0.44;
    --pr-lux-blur: 100px;
    --pr-lux-sat: 135%;
  }

  /* Ensure page background follows the theme */
  html[data-pr-theme] {
    background-color: var(--pr-bg);
    color: var(--pr-fg);
  }
}

/* ---------- Components used on Premium pages ---------- */
@layer components {
  .pr-card {
    background: var(--pr-card);
    border: 1px solid var(--pr-border);
    border-radius: var(--pr-radius);
    box-shadow: var(--pr-shadow-md);
  }

  .pr-badge {
    display: inline-flex;
    align-items: center;
    border-radius: 9999px;
    padding: 2px 8px;
    font-size: 12px;
    line-height: 1;
    border: 1px solid transparent;
  }
  .pr-badge-success {
    border-color: var(--pr-success);
    color: var(--pr-success);
    background: color-mix(in oklab, var(--pr-success), var(--pr-bg) 85%);
  }
  .pr-badge-primary {
    border-color: var(--pr-primary);
    color: var(--pr-primary);
    background: color-mix(in oklab, var(--pr-primary), var(--pr-bg) 85%);
  }

  .pr-link { text-decoration: none; color: var(--pr-primary); }
  .pr-link:hover { text-decoration: underline; }

  .pr-muted { color: color-mix(in oklab, var(--pr-fg), var(--pr-bg) 45%); }

  /* simple heading scales used by the page */
  .pr-text-h2 { font-size: 28px; line-height: 1.2; font-weight: 600; }
  .pr-text-h5 { font-size: 18px; line-height: 1.25; font-weight: 600; }
  .pr-text-small { font-size: 12px; line-height: 1.3; }

  /* Theme switcher preview dots (no inline styles) */
  .pr-theme-dot {
    width: 1.75rem;
    height: 1.75rem;
    border-radius: 0.5rem;
    border: 1px solid var(--pr-border);
  }
  .pr-theme-dot--carbon { background: var(--pr-preview-carbon); }
  .pr-theme-dot--ivory  { background: var(--pr-preview-ivory); }
  .pr-theme-dot--royal  { background: linear-gradient(135deg, var(--pr-preview-royal-start) 0%, var(--pr-preview-royal-end) 100%); }
  .pr-theme-dot--aurora { background: linear-gradient(135deg, var(--pr-preview-aurora-start) 0%, var(--pr-preview-aurora-end) 100%); }

  /* ---------- Animated luxury backdrop (theme-aware) ---------- */
  .lux-outer {
    position: fixed;
    inset: -12%;
    z-index: -1;            /* always behind content */
    pointer-events: none;
    animation: lux-rotate 80s linear infinite;
    will-change: transform;
  }
  .lux-inner {
    position: absolute;
    inset: 0;
    opacity: var(--pr-lux-opacity);
    filter: blur(var(--pr-lux-blur)) saturate(var(--pr-lux-sat));
    mix-blend-mode: soft-light;

    /* Use theme tokens so each palette feels unique */
    background:
      radial-gradient(40% 32% at 20% 25%,
        color-mix(in oklab, var(--pr-primary), transparent 72%) 0%,
        transparent 70%),
      radial-gradient(36% 28% at 80% 70%,
        color-mix(in oklab, var(--pr-fg), transparent 90%) 0%,
        transparent 68%),
      conic-gradient(from 180deg at 50% 50%,
        color-mix(in oklab, var(--pr-primary), white 16%),
        transparent 22%,
        color-mix(in oklab, var(--pr-primary), transparent 85%) 45%,
        transparent 60%,
        color-mix(in oklab, var(--pr-primary), white 10%) 82%,
        transparent 100%);

    animation: lux-pan 22s ease-in-out infinite alternate;
    will-change: transform;
  }

  @keyframes lux-rotate {
    to { transform: rotate(360deg); }
  }
  @keyframes lux-pan {
    0%   { transform: translate3d(-6%, -4%, 0) scale(1.05); }
    100% { transform: translate3d( 6%,  4%, 0) scale(1.05); }
  }

  /* Respect reduced motion */
  @media (prefers-reduced-motion: reduce) {
    .lux-outer, .lux-inner {
      animation: none !important;
      transform: none !important;
    }
  }

  /* Ensure OTP/PIN inputs are readable across all themes (if present) */
  .pr-otp .pr-otp-cell input {
    color: var(--pr-fg, #0a0a0b);
    caret-color: var(--pr-primary, #5b8cff);
  }
}
